# قاعدة البيانات الحقيقية - تعليمات الإعداد

## ⚠️ مهم جداً: يجب تنفيذ هذه الخطوات قبل استخدام التطبيق!

## الخطوات المطلوبة:

### 1. إعداد قاعدة بيانات Supabase

1. افتح [Supabase Dashboard](https://supabase.com/dashboard)
2. اختر مشروعك
3. انقر على "SQL Editor" من القائمة اليسرى
4. افتح الملف `SETUP_DATABASE.sql` الموجود في جذر المشروع
5. انسخ محتوى الملف بالكامل
6. الصقه في SQL Editor
7. اضغط "Run" لتنفيذ السكريبت

### 2. تفعيل المصادقة بالإيميل

1. في Supabase Dashboard، اذهب إلى Authentication > Providers
2. فعّل "Email" provider
3. اختياري: عطّل تأكيد الإيميل (Email confirmation) للتجربة السريعة:
   - اذهب إلى Authentication > Email Templates
   - عطّل "Enable email confirmations"

### 3. إعداد التخزين (اختياري للصور والملفات الصوتية)

1. اذهب إلى Storage في Supabase Dashboard
2. اضغط "New bucket"
3. الاسم: `uploads`
4. اجعله Public
5. احفظ

## ملاحظات مهمة:

### البيانات الآن حقيقية بالكامل:
- ✅ لا يوجد محتوى وهمي
- ✅ لا يوجد مستخدمين مزيفين
- ✅ لا توجد تفاعلات تلقائية
- ✅ تسجيل حقيقي بالإيميل والباسورد
- ✅ جميع البيانات محفوظة في قاعدة البيانات

### المحتوى الجديد:
- النوتات الجديدة لن تظهر تلقائياً
- المستخدم يحتاج للسحب للتحديث (Pull to Refresh) لرؤية المحتوى الجديد
- جميع التفاعلات (لايك، كومنت، متابعة) حقيقية ومحفوظة

### الملفات التي تم تعديلها:
1. `services/supabase.ts` - عميل Supabase
2. `services/database.ts` - خدمة قاعدة البيانات الحقيقية
3. `components/AuthScreen.tsx` - شاشة تسجيل دخول جديدة
4. `App.tsx` - تم إزالة جميع البيانات الوهمية
5. `SETUP_DATABASE.sql` - سكريبت إنشاء قاعدة البيانات

### التسجيل والدخول:
- التسجيل: email + password + username
- تسجيل الدخول: email + password
- لا يوجد رقم هاتف أو OTP
- المصادقة عبر Supabase Auth

## بدء الاستخدام:

بعد تنفيذ الخطوات أعلاه:

1. سجّل حساب جديد
2. ابدأ بإنشاء نوتات
3. استخدم Pull-to-Refresh لتحديث الصفحة وجلب نوتات المستخدمين الآخرين
4. جميع البيانات محفوظة بشكل دائم في Supabase

## استكشاف الأخطاء:

### إذا لم تعمل المصادقة:
- تأكد من أن Email provider مفعل
- تحقق من متغيرات البيئة في `.env`

### إذا لم تظهر النوتات:
- تأكد من تنفيذ سكريبت قاعدة البيانات بالكامل
- تحقق من صلاحيات RLS في Supabase
- افتح Console في المتصفح واقرأ الأخطاء

### إذا كانت الصور لا تعمل:
- أنشئ bucket اسمه "uploads" في Storage
- اجعله Public
